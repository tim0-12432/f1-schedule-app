def VERSION_NAME = "1.3.2"
def DEFAULT_VERSION_CODE = 7

ext.getUniqueVersionCode = {
    def code = System.getenv("VERSION_CODE")
    try {
        if (code != null && !code.isEmpty()) {
            code = Integer.parseInt(code)
        }
    } catch (NumberFormatException ignored) {
        code = DEFAULT_VERSION_CODE
    }
    return code
}

ext.getUserVisibleVersionName = {
    return VERSION_NAME
}

ext.getUserVisibleVersionSuffix = {
    def suffix = System.getenv("VERSION_SUFFIX") != null ? "-${System.getenv("VERSION_SUFFIX")}" : ""
    def code = System.getenv("VERSION_CODE") != null ? "-${System.getenv("VERSION_CODE")}" : ""

    return VERSION_NAME + suffix + code
}